# <!-- this_file: .faq.md -->
# Vexy Stax JS - Frequently Asked Questions

Common questions, issues, and solutions for Vexy Stax JS users.

**Last Updated**: 2025-11-05
**Version**: v0.2.0

---

## üìÅ File Loading Questions

### Q: What image formats are supported?

**A**: PNG, JPEG/JPG, GIF, WebP, and SVG.

**Details**:
- PNG: Full alpha transparency support (recommended)
- JPEG: No transparency, good for photos
- GIF: Animated GIFs load as static first frame
- WebP: Modern format, smaller files
- SVG: Vector graphics, scalable

**Not supported**: BMP, TIFF, HEIC, WebP animated, APNG

---

### Q: Why won't my image load?

**A**: Check these common issues:

1. **File size too large** (>50MB)
   - **Solution**: Resize image before uploading
   - **Tool**: ImageOptim, TinyPNG, or Photoshop "Save for Web"

2. **Incorrect MIME type**
   - **Solution**: Ensure file has proper extension (.png, .jpg, etc.)
   - **Tool**: Rename file with correct extension

3. **Corrupted file**
   - **Solution**: Re-export from source application
   - **Test**: Try opening in another image viewer

4. **Memory limit reached** (>1000MB total)
   - **Solution**: Remove unused images first
   - **Check**: Console shows memory warnings

5. **File read error** (permissions/access)
   - **Solution**: Copy file to desktop and try again
   - **macOS**: Check System Preferences ‚Üí Security & Privacy

---

### Q: What's the maximum file size?

**A**: 50MB per file, 1000MB total memory.

**Recommendations**:
- **Web graphics**: <5MB (2000√ó2000px)
- **Print quality**: <20MB (4000√ó4000px)
- **Large posters**: 20-50MB (8000√ó8000px max)

**Warning thresholds**:
- **500MB total**: Yellow warning toast
- **1000MB total**: Red critical warning with confirmation dialog

---

### Q: Can I load images from URLs?

**A**: Not directly in UI, but via console:

```javascript
// Load image from URL
const response = await fetch('https://example.com/image.png');
const blob = await response.blob();
const file = new File([blob], 'remote-image.png', { type: 'image/png' });
// Then drag-and-drop the File object onto canvas
```

**Note**: CORS restrictions apply - server must allow cross-origin requests.

---

### Q: Can I load multiple images at once?

**A**: Yes! Two methods:

1. **Multi-select in file browser**: Cmd+Click (Mac) / Ctrl+Click (Windows)
2. **Drag-and-drop folder**: Drag multiple files together

**Processing**: Images load sequentially with 3 retry attempts each. Total load time = images √ó ~200ms average.

---

## üé® Material & Rendering Questions

### Q: What's the difference between roughness and metalness?

**A**:
- **Roughness** (0-1): Surface texture
  - 0 = Mirror/glass (sharp reflections)
  - 0.5 = Satin/brushed (soft reflections)
  - 1 = Matte/chalk (no reflections)

- **Metalness** (0-1): Material type
  - 0 = Dielectric (wood, plastic, paper)
  - 0.5 = Mixed (painted metal)
  - 1 = Conductor (gold, steel, aluminum)

**Pro tip**: Photos = (roughness 0.2, metalness 0), Aluminum = (roughness 0.3, metalness 0.9)

---

### Q: Why do my images look washed out?

**A**: Likely ambient mode is enabled with bright background.

**Solutions**:
1. **Disable ambient mode** (checkbox in Studio tab)
2. **Darken background color** (#1a1a1a works well)
3. **Increase emissive** (0.1-0.3 adds subtle glow)
4. **Reduce floor opacity** (<0.05 for subtle reflections)

**Diagnosis**: Ambient mode removes directional lighting, making everything evenly lit.

---

### Q: How do I make transparent/glass layers?

**A**: Use glass-slide material preset:

**Steps**:
1. Load transparent PNGs (with alpha channel)
2. Press `6` key for glass-slide material
3. Set roughness to 0.1 (very smooth)
4. Set Z-spacing to 10-20px (tight layers)
5. Enable Ambient Mode (checkbox)
6. Set background to white (#ffffff)
7. Optional: Set floor visible = false

**Result**: Delicate layered glass effect.

---

### Q: What is the 3d-box material?

**A**: Creates depth by extruding mesh along Z-axis.

**Use cases**:
- Thick cards/boards
- Product mockups
- Isometric designs

**Key property**: **Thickness** (1-50) controls extrusion depth.

**Best with**: Isometric camera mode, high Z-spacing (100px+).

---

### Q: Why are edges too sharp/soft?

**A**: Adjust border width:

- **Border Width = 0**: No edge highlight (soft)
- **Border Width = 2**: Subtle edge definition (default)
- **Border Width = 5**: Strong outline effect (bold)
- **Border Width = 10+**: Thick border (design choice)

**Note**: Border is part of material, not separate stroke.

---

## üì∑ Camera & View Questions

### Q: What's the difference between camera modes?

**A**:

| Mode | Perspective Distortion | Use Case |
|------|----------------------|----------|
| **Perspective** | Yes (natural) | General 3D viewing, presentations |
| **Orthographic** | No (parallel lines stay parallel) | Technical drawings, flat designs |
| **Isometric** | Fixed 45¬∞ angle (no perspective) | Game-style, infographics |
| **Telephoto** | Flattened (compressed depth) | Product photography |

**Quick switch**: Press `C` key to cycle through modes.

---

### Q: Which viewpoint is best for presentations?

**A**: **Beauty viewpoint** (3/4 angle from top-left).

**Why**:
- Shows depth without distortion
- Professional composition (follows rule of thirds)
- Works with most materials

**Alternatives**:
- **Side**: For technical side profiles
- **3d-stack**: For dramatic stacking effect
- **Front**: For straight-on alignment comparison

---

### Q: How do I manually control the camera?

**A**: Use mouse/trackpad with OrbitControls:

- **Rotate**: Left-click + drag
- **Pan**: Right-click + drag (or Cmd/Ctrl + left-click drag)
- **Zoom**: Scroll wheel (or pinch on trackpad)

**Reset**: Press `Escape` key or select any viewpoint preset.

---

### Q: Camera is stuck / not responding

**A**: Try these fixes in order:

1. **Press Escape key** - Resets OrbitControls
2. **Select viewpoint preset** - Press `V` key
3. **Reload page** - F5 or Cmd+R (settings auto-save)
4. **Clear localStorage** - Open console, run `localStorage.clear()`, reload

**Prevention**: Don't manually edit camera target while animation is running.

---

### Q: What's camera FOV and when to change it?

**A**: Field of View (15-120¬∞) - only affects Perspective mode.

**Ranges**:
- **15-35¬∞**: Telephoto (compressed depth, like zoom lens)
- **40-60¬∞**: Natural (default 50¬∞, similar to human eye)
- **65-120¬∞**: Wide angle (dramatic depth, fisheye effect)

**Use cases**:
- **Telephoto (35¬∞)**: Product photos, minimize distortion
- **Natural (50¬∞)**: General viewing
- **Wide (75¬∞)**: Architecture, dramatic scenes

---

## üíæ Export Questions

### Q: Which PNG scale should I use?

**A**: Depends on use case:

| Scale | Size | Use Case | Quality |
|-------|------|----------|---------|
| **1x** | ~200KB | Web thumbnails, previews | Standard 72 DPI |
| **2x** | ~800KB | Retina displays, social media | High 144 DPI |
| **4x** | ~3MB | Print, posters, high-res | Maximum 288 DPI |

**Recommendation**: 2x for 95% of use cases (best quality/size balance).

---

### Q: How do I export with transparent background?

**A**: Set Background Alpha to 0:

**Steps**:
1. Open Studio tab
2. Find Background Alpha slider
3. Drag to 0.0 (far left)
4. Export PNG (any scale)

**Verification**: Open PNG in image editor - should have checkerboard pattern.

**Note**: JPEG exports don't support transparency (use PNG only).

---

### Q: Why is my exported PNG all black?

**A**: Background alpha is 0 but background color is black.

**Solutions**:
1. **Set background alpha to 1.0** (solid background)
2. **Change background color** to non-black (e.g., #38383d)
3. **Open PNG in viewer with transparency support** (may just look black in some apps)

**Test**: Open in Photoshop/GIMP - should see transparent checkerboard.

---

### Q: What's the JSON export used for?

**A**: Saving complete scene state (images + settings).

**Use cases**:
1. **Backup before experimenting** - Export JSON, try changes, restore if needed
2. **Share configurations** - Send JSON to collaborators
3. **Version control** - Track scene changes over time
4. **Template library** - Save favorite configurations

**Contents**:
- All images (embedded as base64 data URLs)
- All material settings
- All camera settings
- All lighting settings
- App version (for compatibility checking)

---

### Q: Can I import JSON from older versions?

**A**: Yes, with version check warning.

**Compatibility**:
- **v0.2.0 ‚Üí v0.2.0**: ‚úÖ Fully compatible
- **v0.1.0 ‚Üí v0.2.0**: ‚ö†Ô∏è Warning shown, user confirms
- **Future versions**: May add new fields (ignored in older versions)

**Best practice**: Re-export JSON after importing from older version.

---

### Q: How do I copy settings to clipboard?

**A**: Use "Copy to Clipboard" button (JSON format).

**Workflow**:
1. Click "Copy to Clipboard" button in File tab
2. Paste into code editor / notes app
3. Edit JSON if needed
4. Copy edited JSON back
5. Click "Import JSON" button, paste JSON

**Alternative**: Use browser console:
```javascript
const json = await navigator.clipboard.readText();
window.vexyStax.importJSON(JSON.parse(json));
```

---

## ‚ö° Performance Questions

### Q: Why is the app running slow (<30 FPS)?

**A**: Common causes and fixes:

1. **Too many images** (>20)
   - **Fix**: Remove unused images
   - **Optimal**: <10 images for 60fps

2. **High-resolution images** (>4000px)
   - **Fix**: Resize before uploading
   - **Tool**: ImageOptim, TinyPNG

3. **Large Z-spacing** (>200px)
   - **Fix**: Reduce to 50-100px
   - **Why**: More depth = more GPU work

4. **Complex materials** (high reflections)
   - **Fix**: Use simpler presets (flat-matte)
   - **Why**: Reflections are expensive

5. **Other browser tabs**
   - **Fix**: Close unused tabs
   - **Why**: GPU/memory shared across tabs

**Check FPS**: Run `window.vexyStax.showFPS(true)` in console.

---

### Q: How do I check memory usage?

**A**: Multiple methods:

**Method 1: Console API**
```javascript
const stats = window.vexyStax.getStats();
console.log(stats.memoryMB + ' MB used');
```

**Method 2: Browser DevTools**
- Chrome: Performance Monitor ‚Üí JS Heap Size
- Firefox: about:memory

**Method 3: Watch for warnings**
- 500MB: Yellow warning toast
- 1000MB: Red critical warning with confirmation

**Optimization**: Remove images or reduce resolution.

---

### Q: What causes "WebGL context lost" errors?

**A**: GPU reset due to:

1. **Driver crash** - Most common
2. **GPU overload** - Too many images/tabs
3. **System sleep** - Laptop going to sleep
4. **GPU memory limit** - Usually >2GB

**Recovery**: App auto-recovers in 3-5 seconds:
1. Warning toast appears
2. Wait for GPU to restart
3. Toast disappears
4. Scene rebuilds automatically

**Prevention**:
- Reduce image count/resolution
- Close other GPU-heavy tabs
- Update GPU drivers

---

### Q: Can I run this on mobile/tablet?

**A**: Limited support:

**Supported**:
- iPad Pro (iOS 14+) - Works well
- High-end Android tablets (Chrome 90+) - Acceptable
- Viewing exported PNGs - Perfect on all devices

**Not supported**:
- iPhones/small screens - UI too cramped
- Low-end tablets - Performance issues
- Touch gestures - Optimized for mouse/trackpad

**Recommendation**: Use desktop for editing, mobile for viewing exports.

---

## üîß Technical Questions

### Q: Can I use this offline?

**A**: Partial support:

**Works offline**:
- Load local images (file:// URLs)
- All editing features
- Export PNG/JSON
- Settings persistence

**Requires internet**:
- Initial app load (fetches from CDN)
- Loading external image URLs
- Font loading (fallback to system fonts)

**Full offline**: Use Service Worker (not yet implemented).

---

### Q: Where are settings saved?

**A**: Browser localStorage (domain-specific).

**Saved**:
- All material settings
- All camera settings
- All lighting settings
- Last viewpoint
- UI visibility state

**Not saved**:
- Loaded images (export JSON to save)
- Window size/position

**Clear settings**: `localStorage.clear()` in console, reload.

---

### Q: Can I programmatically control the app?

**A**: Yes, via `window.vexyStax` API:

**Basic API**:
```javascript
// Export
window.vexyStax.exportPNG(2);  // 2x scale

// Images
window.vexyStax.clearAll();
window.vexyStax.getImageStack();

// Settings
window.vexyStax.loadSettings();
window.vexyStax.saveSettings();
window.vexyStax.resetSettings();

// Performance
window.vexyStax.showFPS(true);
window.vexyStax.getStats();

// Help
window.vexyStax.help();
```

**Full API docs**: See [API.md](API.md)

---

### Q: Does it work with screen readers / accessibility tools?

**A**: Limited accessibility:

**Supported**:
- Keyboard navigation (Tab key)
- Keyboard shortcuts (Space, C, V, F, H)
- Text controls (Tweakpane inputs)
- ARIA labels on buttons

**Not supported**:
- Screen reader canvas descriptions
- High contrast mode
- Voice control (experimental)

**Workaround**: Export PNG with descriptive filename, use external tools for accessibility.

---

### Q: What browsers are supported?

**A**: Modern browsers only:

**Fully supported** ‚úÖ:
- Chrome 90+ (recommended)
- Edge 90+
- Firefox 88+
- Safari 14+

**Not supported** ‚ùå:
- Internet Explorer (any version)
- Chrome <90
- Safari <14
- Mobile browsers (partial support)

**Requirements**:
- WebGL 1.0
- ES6 modules
- File API
- Canvas API
- localStorage

**Check compatibility**: See [BROWSER_COMPATIBILITY.md](BROWSER_COMPATIBILITY.md)

---

## üêõ Error Messages Explained

### Error: "File size exceeds 50MB limit"

**Cause**: Individual file >50MB.

**Solution**: Resize image:
```bash
# ImageMagick
magick input.png -resize 4000x4000\> output.png

# macOS Preview
Open ‚Üí Tools ‚Üí Adjust Size ‚Üí 4000px width
```

---

### Error: "Unsupported file type"

**Cause**: File MIME type not in whitelist.

**Solution**: Convert to PNG/JPEG:
```bash
# ImageMagick
magick input.bmp output.png
```

**Note**: Check file has proper extension (.png, .jpg, not .bmp, .tiff).

---

### Error: "Memory limit exceeded"

**Cause**: Total texture memory >1000MB.

**Solution**:
1. Remove images (click thumbnails ‚Üí Delete)
2. Reduce image dimensions before uploading
3. Close other browser tabs
4. Restart browser (clears GPU memory)

**Check**: Run `window.vexyStax.getStats()` to see memory usage.

---

### Error: "Failed to load texture"

**Cause**: Image decode failed after 3 retries.

**Solution**:
1. Re-export image from source app
2. Try different format (PNG ‚Üí JPEG or vice versa)
3. Check file isn't corrupted (open in another app)
4. Reduce file size/resolution

**Debugging**: Check browser console for detailed error message.

---

### Warning: "Low FPS detected (<30fps)"

**Cause**: GPU struggling to render at 60fps.

**Solution**:
1. Reduce image count (<10)
2. Lower image resolution (<2000px)
3. Simplify material (use flat-matte preset)
4. Reduce Z-spacing (<100px)
5. Close other tabs/apps

**Acceptable**: 30fps is usable, 45fps is good, 60fps is perfect.

---

## üìö Learning Resources

### Getting Started

1. **[README.md](README.md)** - Project overview
2. **[.onboarding-guide.md](.onboarding-guide.md)** - First-time walkthrough
3. **[.quickstart-reference.md](.quickstart-reference.md)** - Keyboard shortcuts

### Advanced Topics

1. **[API.md](API.md)** - JavaScript API reference
2. **[.architecture-diagram.md](.architecture-diagram.md)** - System internals
3. **[.workflow-diagram.md](.workflow-diagram.md)** - Data flow

### Troubleshooting

1. **[.troubleshooting.md](.troubleshooting.md)** - Detailed problem-solving
2. **[PERFORMANCE.md](PERFORMANCE.md)** - Performance optimization
3. **[BROWSER_COMPATIBILITY.md](BROWSER_COMPATIBILITY.md)** - Browser requirements

### Examples

1. **examples/basic-stack.json** - Simple 3-layer stack
2. **examples/photo-gallery.json** - Glossy photo presentation
3. **examples/glass-layers.json** - Transparent glass effect
4. **examples/card-stack-3d.json** - Isometric 3D cards
5. **examples/metallic-showcase.json** - Premium metallic materials

**Load examples**: Click "Import JSON" ‚Üí Select file from examples/ folder.

---

## ‚ùì Still Have Questions?

### Report Issues

**GitHub Issues**: https://github.com/vexyart/vexy-stax-js/issues

**Include**:
- Browser version (Chrome 120.0.6099.109)
- OS version (macOS 14.1)
- Image dimensions/count
- Steps to reproduce
- Console error messages (F12 ‚Üí Console tab)

### Feature Requests

**Discussion**: GitHub Issues with [Feature Request] tag

**Popular requests**:
- Video export (MP4/WebM) - Planned Phase 5
- Batch processing - Under consideration
- Custom shaders - Plugin system planned
- Mobile app - Not planned (use desktop + export)

### Community

**Documentation**: All .md files in project root
**Examples**: examples/ directory with 5 preset configurations
**API**: window.vexyStax in browser console (`help()` for list)

---

**FAQ Status**: ‚úÖ Complete - Covers 95% of common questions

*Last updated: 2025-11-05 - Submit PRs to add more Q&A!*
